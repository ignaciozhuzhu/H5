<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>JavaScript 获取/设置光标位置,兼容Input&&TextArea。</title>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
    <style>
        body {
            margin: 32px;
            font-family: Verdana, sans-serif;
            font-size: 13px;
        }

        .title {
            font-size: 18px;
            font-weight: bolder;
            margin: 40px 0;
        }

        .input {
            width: 50%;
            font-family: Verdana, sans-serif;
            font-size: 13px;
            text-indent: 2px;
        }
    </style>
    <script>
        //设置光标位置函数
        function setCursorPosition(ctrl, pos) {
           // debugger
            if (ctrl.setSelectionRange) {
                ctrl.focus();
              //  ctrl.setSelectionRange(pos, pos);
            }
        }
        //test
        function process(targetId) {
            //setCursorPosition(document.getElementById(targetId));
            document.getElementById(targetId).blur()
            document.getElementById(targetId).focus();
        }
    </script>
</head>
<body>
    <div class="title">JavaScript 获取/设置光标位置,兼容Input&&TextArea：</div>
    <div class="title">单行文本框</div>
    <p><input class="input" id="textbox" name="textbox" value="Hi,www.jb51.net!!!" /></p>
    <input type="button" onclick="process('textbox');" value="Set Position">

</body>
</html>